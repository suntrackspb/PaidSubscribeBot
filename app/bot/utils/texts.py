"""
–¢–µ–∫—Å—Ç—ã —Å–æ–æ–±—â–µ–Ω–∏–π –¥–ª—è PaidSubscribeBot.
–°–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ —Ç–µ–∫—Å—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –±–æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º.
"""

from typing import Dict, Any
from datetime import datetime


class Messages:
    """–ö–ª–∞—Å—Å —Å —Ç–µ–∫—Å—Ç–∞–º–∏ —Å–æ–æ–±—â–µ–Ω–∏–π –±–æ—Ç–∞"""
    
    # –ö–æ–º–∞–Ω–¥–∞ /start
    START_MESSAGE = """
ü§ñ <b>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ PaidSubscribeBot!</b>

–Ø –ø–æ–º–æ–≥—É –≤–∞–º –æ—Ñ–æ—Ä–º–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É –Ω–∞ –∑–∞–∫—Ä—ã—Ç—ã–π –∫–∞–Ω–∞–ª.

<b>–ß—Ç–æ —è —É–º–µ—é:</b>
‚Ä¢ üí≥ –ü—Ä–∏–Ω–∏–º–∞—Ç—å –æ–ø–ª–∞—Ç—É —Ä–∞–∑–Ω—ã–º–∏ —Å–ø–æ—Å–æ–±–∞–º–∏
‚Ä¢ üîë –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è—Ç—å –≤ –∫–∞–Ω–∞–ª –ø–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã
‚Ä¢ üìä –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–¥–ø–∏—Å–∫–µ
‚Ä¢ üÜò –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É

–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ –≤ –º–µ–Ω—é –Ω–∏–∂–µ:
"""
    
    # –ö–æ–º–∞–Ω–¥–∞ /help
    HELP_MESSAGE = """
üìñ <b>–°–ø—Ä–∞–≤–∫–∞ –ø–æ –±–æ—Ç—É</b>

<b>–î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:</b>
/start - –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
/help - –≠—Ç–∞ —Å–ø—Ä–∞–≤–∫–∞
/subscription - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–¥–ø–∏—Å–∫–µ
/pay - –û–ø–ª–∞—Ç–∞ –ø–æ–¥–ø–∏—Å–∫–∏
/support - –°–≤—è–∑—å —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π

<b>–°–ø–æ—Å–æ–±—ã –æ–ø–ª–∞—Ç—ã:</b>
‚Ä¢ üí≥ –ë–∞–Ω–∫–æ–≤—Å–∫–∏–µ –∫–∞—Ä—Ç—ã (Visa, MasterCard, –ú–ò–†)
‚Ä¢ üöÄ –°–ë–ü (–°–∏—Å—Ç–µ–º–∞ –±—ã—Å—Ç—Ä—ã—Ö –ø–ª–∞—Ç–µ–∂–µ–π)
‚Ä¢ ‚≠ê Telegram Stars
‚Ä¢ üí∞ YooMoney

<b>–ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å?</b>
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É /support –¥–ª—è —Å–≤—è–∑–∏ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π.
"""
    
    # –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–¥–ø–∏—Å–∫–µ
    SUBSCRIPTION_INFO = """
üìã <b>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–¥–ø–∏—Å–∫–µ</b>

<b>–°—Ç–∞—Ç—É—Å:</b> {status}
<b>–¢–∞—Ä–∏—Ñ–Ω—ã–π –ø–ª–∞–Ω:</b> {duration}
<b>–î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è:</b> {end_date}
<b>–î–Ω–µ–π –æ—Å—Ç–∞–ª–æ—Å—å:</b> {days_left}

{additional_info}
"""
    
    SUBSCRIPTION_ACTIVE = """
‚úÖ <b>–ü–æ–¥–ø–∏—Å–∫–∞ –∞–∫—Ç–∏–≤–Ω–∞</b>

–í—ã –º–æ–∂–µ—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤—Å–µ–º–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏ –∫–∞–Ω–∞–ª–∞.
–ù–µ –∑–∞–±—É–¥—å—Ç–µ –ø—Ä–æ–¥–ª–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É –¥–æ –æ–∫–æ–Ω—á–∞–Ω–∏—è —Å—Ä–æ–∫–∞!
"""
    
    SUBSCRIPTION_EXPIRED = """
‚ùå <b>–ü–æ–¥–ø–∏—Å–∫–∞ –∏—Å—Ç–µ–∫–ª–∞</b>

–î–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–∞–Ω–∞–ª–æ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø—Ä–æ–¥–ª–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É.
"""
    
    SUBSCRIPTION_NOT_FOUND = """
‚ùì <b>–ü–æ–¥–ø–∏—Å–∫–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞</b>

–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ –∫–∞–Ω–∞–ª.
–û—Ñ–æ—Ä–º–∏—Ç–µ –ø–æ–¥–ø–∏—Å–∫—É, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ —ç–∫—Å–∫–ª—é–∑–∏–≤–Ω–æ–º—É –∫–æ–Ω—Ç–µ–Ω—Ç—É!
"""
    
    # –í—ã–±–æ—Ä —Ç–∞—Ä–∏—Ñ–Ω–æ–≥–æ –ø–ª–∞–Ω–∞
    CHOOSE_PLAN = """
üí∞ <b>–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∞—Ä–∏—Ñ–Ω—ã–π –ø–ª–∞–Ω</b>

<b>üìÖ –ú–µ—Å—è—á–Ω–∞—è –ø–æ–¥–ø–∏—Å–∫–∞</b>
‚Ä¢ –¶–µ–Ω–∞: <b>{monthly_price} ‚ÇΩ</b>
‚Ä¢ –°—Ä–æ–∫: 30 –¥–Ω–µ–π
‚Ä¢ –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –∫–∞–Ω–∞–ª—É

<b>üìÜ –ì–æ–¥–æ–≤–∞—è –ø–æ–¥–ø–∏—Å–∫–∞</b>
‚Ä¢ –¶–µ–Ω–∞: <b>{yearly_price} ‚ÇΩ</b>
‚Ä¢ –°—Ä–æ–∫: 365 –¥–Ω–µ–π
‚Ä¢ –°–∫–∏–¥–∫–∞ {discount}%
‚Ä¢ –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –∫–∞–Ω–∞–ª—É

{trial_info}
"""
    
    TRIAL_INFO = """
<b>üéÅ –ü—Ä–æ–±–Ω–∞—è –ø–æ–¥–ø–∏—Å–∫–∞</b>
‚Ä¢ –¶–µ–Ω–∞: <b>–ë–µ—Å–ø–ª–∞—Ç–Ω–æ</b>
‚Ä¢ –°—Ä–æ–∫: {trial_days} –¥–Ω—è
‚Ä¢ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø
"""
    
    # –í—ã–±–æ—Ä —Å–ø–æ—Å–æ–±–∞ –æ–ø–ª–∞—Ç—ã
    CHOOSE_PAYMENT_METHOD = """
üí≥ <b>–í—ã–±–µ—Ä–∏—Ç–µ —Å–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã</b>

<b>–¢–∞—Ä–∏—Ñ–Ω—ã–π –ø–ª–∞–Ω:</b> {plan}
<b>–°—É–º–º–∞ –∫ –æ–ø–ª–∞—Ç–µ:</b> <b>{amount} ‚ÇΩ</b>

–î–æ—Å—Ç—É–ø–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã –æ–ø–ª–∞—Ç—ã:
"""
    
    # –ü–ª–∞—Ç–µ–∂–∏
    PAYMENT_CREATED = """
üí≥ <b>–°—á–µ—Ç —Å–æ–∑–¥–∞–Ω</b>

<b>–°—É–º–º–∞:</b> {amount} ‚ÇΩ
<b>–°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã:</b> {method}
<b>–ù–æ–º–µ—Ä —Å—á–µ—Ç–∞:</b> #{payment_id}

{payment_info}

‚è± <b>–í—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è –æ–ø–ª–∞—Ç—ã:</b> 15 –º–∏–Ω—É—Ç
"""
    
    PAYMENT_SUCCESS = """
‚úÖ <b>–û–ø–ª–∞—Ç–∞ –ø—Ä–æ—à–ª–∞ —É—Å–ø–µ—à–Ω–æ!</b>

<b>–°—É–º–º–∞:</b> {amount} ‚ÇΩ
<b>–°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã:</b> {method}
<b>–ù–æ–º–µ—Ä —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏:</b> #{payment_id}

üéâ <b>–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º!</b>
–í—ã —É—Å–ø–µ—à–Ω–æ –æ—Ñ–æ—Ä–º–∏–ª–∏ –ø–æ–¥–ø–∏—Å–∫—É. –¢–µ–ø–µ—Ä—å —É –≤–∞—Å –µ—Å—Ç—å –¥–æ—Å—Ç—É–ø –∫ –∫–∞–Ω–∞–ª—É.

üì¢ <b>–°—Å—ã–ª–∫–∞ –Ω–∞ –∫–∞–Ω–∞–ª:</b> {channel_link}
"""
    
    PAYMENT_FAILED = """
‚ùå <b>–û–ø–ª–∞—Ç–∞ –Ω–µ –ø—Ä–æ—à–ª–∞</b>

<b>–ü—Ä–∏—á–∏–Ω–∞:</b> {reason}
<b>–ù–æ–º–µ—Ä —Å—á–µ—Ç–∞:</b> #{payment_id}

–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑ –∏–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ –¥—Ä—É–≥–æ–π —Å–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã.
"""
    
    PAYMENT_PENDING = """
‚è≥ <b>–û–∂–∏–¥–∞–µ–º –æ–ø–ª–∞—Ç—É</b>

<b>–ù–æ–º–µ—Ä —Å—á–µ—Ç–∞:</b> #{payment_id}
<b>–°—É–º–º–∞:</b> {amount} ‚ÇΩ

–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–≤–µ—Ä—à–∏—Ç–µ –æ–ø–ª–∞—Ç—É –≤ –ø–ª–∞—Ç–µ–∂–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ.
–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø—Ä–∏–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –ø–ª–∞—Ç–µ–∂–∞.
"""
    
    # –ü–æ–¥–¥–µ—Ä–∂–∫–∞
    SUPPORT_MESSAGE = """
üÜò <b>–ü–æ–¥–¥–µ—Ä–∂–∫–∞</b>

–ï—Å–ª–∏ —É –≤–∞—Å –≤–æ–∑–Ω–∏–∫–ª–∏ –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã, –º—ã –≥–æ—Ç–æ–≤—ã –ø–æ–º–æ—á—å!

<b>–°–ø–æ—Å–æ–±—ã —Å–≤—è–∑–∏:</b>
‚Ä¢ üì± Telegram: @support_username
‚Ä¢ üìß Email: support@example.com
‚Ä¢ üïê –í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã: –ü–Ω-–ü—Ç, 9:00-18:00 (–ú–°–ö)

<b>–ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã:</b>
‚Ä¢ –ö–∞–∫ –æ–ø–ª–∞—Ç–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É?
‚Ä¢ –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –∫–∞–Ω–∞–ª—É?
‚Ä¢ –ö–∞–∫ –ø—Ä–æ–¥–ª–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É?
‚Ä¢ –í–æ–∑–≤—Ä–∞—Ç —Å—Ä–µ–¥—Å—Ç–≤

–ú—ã –æ—Ç–≤–µ—Ç–∏–º –≤ —Ç–µ—á–µ–Ω–∏–µ 2-4 —á–∞—Å–æ–≤ –≤ —Ä–∞–±–æ—á–µ–µ –≤—Ä–µ–º—è.
"""
    
    # –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—Å–∫–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è
    ADMIN_MENU = """
üëë <b>–ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</b>

–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ:
"""
    
    EXPORT_MENU = """
üì§ <b>–≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö</b>

–í—ã–±–µ—Ä–∏—Ç–µ —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å:

<b>–î–æ—Å—Ç—É–ø–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã:</b>
‚Ä¢ üìÑ CSV - –¥–ª—è —Ç–∞–±–ª–∏—Ü
‚Ä¢ üìä JSON - –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º–º  
‚Ä¢ üìà Excel - –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞

<b>–¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö:</b>
‚Ä¢ üë• –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
‚Ä¢ üìã –ü–æ–¥–ø–∏—Å–∫–∏
‚Ä¢ üí≥ –ü–ª–∞—Ç–µ–∂–∏
‚Ä¢ üìä –ê–Ω–∞–ª–∏—Ç–∏–∫–∞
‚Ä¢ üíæ –ü–æ–ª–Ω—ã–π –±—ç–∫–∞–ø
"""
    
    ADMIN_STATS = """
üìä <b>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±–æ—Ç–∞</b>

<b>üë• –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏:</b>
‚Ä¢ –í—Å–µ–≥–æ: {total_users}
‚Ä¢ –ê–∫—Ç–∏–≤–Ω—ã—Ö: {active_users}
‚Ä¢ –ù–æ–≤—ã—Ö –∑–∞ —Å–µ–≥–æ–¥–Ω—è: {new_users_today}

<b>üí≥ –ü–æ–¥–ø–∏—Å–∫–∏:</b>
‚Ä¢ –ê–∫—Ç–∏–≤–Ω—ã—Ö: {active_subscriptions}
‚Ä¢ –ò—Å—Ç–µ–∫—à–∏—Ö: {expired_subscriptions}
‚Ä¢ –ü—Ä–æ–±–Ω—ã—Ö: {trial_subscriptions}

<b>üí∞ –ü–ª–∞—Ç–µ–∂–∏:</b>
‚Ä¢ –ó–∞ —Å–µ–≥–æ–¥–Ω—è: {payments_today} ({revenue_today} ‚ÇΩ)
‚Ä¢ –ó–∞ –º–µ—Å—è—Ü: {payments_month} ({revenue_month} ‚ÇΩ)
‚Ä¢ –ù–µ—É–¥–∞—á–Ω—ã—Ö: {failed_payments}

<b>üìà –ö–æ–Ω–≤–µ—Ä—Å–∏—è:</b>
‚Ä¢ –ü–æ–¥–ø–∏—Å–∫–∞ ‚Üí –û–ø–ª–∞—Ç–∞: {conversion_rate}%
"""
    
    # –û—à–∏–±–∫–∏
    ERROR_GENERAL = """
‚ùå <b>–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞</b>

–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑ –∏–ª–∏ –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É.
"""
    
    ERROR_PAYMENT_SYSTEM = """
‚ùå <b>–û—à–∏–±–∫–∞ –ø–ª–∞—Ç–µ–∂–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã</b>

–í—Ä–µ–º–µ–Ω–Ω—ã–µ –Ω–µ–ø–æ–ª–∞–¥–∫–∏ –≤ –ø–ª–∞—Ç–µ–∂–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ.
–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ –∏–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ –¥—Ä—É–≥–æ–π —Å–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã.
"""
    
    ERROR_INVALID_AMOUNT = """
‚ùå <b>–ù–µ–≤–µ—Ä–Ω–∞—è —Å—É–º–º–∞</b>

–£–∫–∞–∑–∞–Ω–∞ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Å—É–º–º–∞ –ø–ª–∞—Ç–µ–∂–∞.
"""
    
    ERROR_USER_BANNED = """
üö´ <b>–î–æ—Å—Ç—É–ø –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω</b>

–í–∞—à –∞–∫–∫–∞—É–Ω—Ç –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º.
–î–ª—è —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É.
"""
    
    # –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ
    MAINTENANCE_MODE = """
üîß <b>–¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ</b>

–ë–æ—Ç –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –∏–∑-–∑–∞ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö —Ä–∞–±–æ—Ç.
–ü—Ä–∏–Ω–æ—Å–∏–º –∏–∑–≤–∏–Ω–µ–Ω–∏—è –∑–∞ –Ω–µ—É–¥–æ–±—Å—Ç–≤–∞.

‚è± <b>–û—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–æ—á–Ω–æ–µ –≤—Ä–µ–º—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è:</b> {estimated_time}
"""


class AdminMessages:
    """–°–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤"""
    
    NEW_USER = """
üë§ <b>–ù–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</b>

<b>ID:</b> {user_id}
<b>–ò–º—è:</b> {name}
<b>Username:</b> @{username}
<b>–î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏:</b> {created_at}
"""
    
    NEW_PAYMENT = """
üí≥ <b>–ù–æ–≤—ã–π –ø–ª–∞—Ç–µ–∂</b>

<b>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:</b> {user_name} (ID: {user_id})
<b>–°—É–º–º–∞:</b> {amount} ‚ÇΩ
<b>–°–ø–æ—Å–æ–±:</b> {method}
<b>–°—Ç–∞—Ç—É—Å:</b> {status}
<b>ID –ø–ª–∞—Ç–µ–∂–∞:</b> #{payment_id}
"""
    
    SUBSCRIPTION_EXPIRED = """
‚è∞ <b>–ü–æ–¥–ø–∏—Å–∫–∞ –∏—Å—Ç–µ–∫–ª–∞</b>

<b>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:</b> {user_name} (ID: {user_id})
<b>–ü–ª–∞–Ω:</b> {plan}
<b>–î–∞—Ç–∞ –∏—Å—Ç–µ—á–µ–Ω–∏—è:</b> {expired_date}
"""


def format_currency(amount: float, currency: str = "RUB") -> str:
    """
    –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—É–º–º—ã —Å –≤–∞–ª—é—Ç–æ–π.
    
    Args:
        amount: –°—É–º–º–∞
        currency: –ö–æ–¥ –≤–∞–ª—é—Ç—ã
        
    Returns:
        str: –û—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ç—Ä–æ–∫–∞
    """
    if currency == "RUB":
        return f"{amount:,.0f} ‚ÇΩ"
    return f"{amount:,.2f} {currency}"


def format_date(date_obj) -> str:
    """
    –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç—ã –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è.
    
    Args:
        date_obj: –û–±—ä–µ–∫—Ç –¥–∞—Ç—ã
        
    Returns:
        str: –û—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –¥–∞—Ç–∞
    """
    if not date_obj:
        return "–ù–µ —É–∫–∞–∑–∞–Ω–æ"
    
    return date_obj.strftime("%d.%m.%Y %H:%M")


def format_subscription_status(status: str) -> str:
    """
    –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –ø–æ–¥–ø–∏—Å–∫–∏.
    
    Args:
        status: –°—Ç–∞—Ç—É—Å –ø–æ–¥–ø–∏—Å–∫–∏
        
    Returns:
        str: –û—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å—Ç–∞—Ç—É—Å
    """
    status_map = {
        "active": "‚úÖ –ê–∫—Ç–∏–≤–Ω–∞",
        "expired": "‚ùå –ò—Å—Ç–µ–∫–ª–∞",
        "canceled": "üö´ –û—Ç–º–µ–Ω–µ–Ω–∞",
        "trial": "üéÅ –ü—Ä–æ–±–Ω–∞—è",
        "pending": "‚è≥ –û–∂–∏–¥–∞–µ—Ç –∞–∫—Ç–∏–≤–∞—Ü–∏–∏"
    }
    return status_map.get(status, status)


def format_payment_method(method: str) -> str:
    """
    –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ø–æ—Å–æ–±–∞ –æ–ø–ª–∞—Ç—ã.
    
    Args:
        method: –°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã
        
    Returns:
        str: –û—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã
    """
    method_map = {
        "yoomoney": "üí∞ YooMoney",
        "telegram_stars": "‚≠ê Telegram Stars",
        "sbp": "üöÄ –°–ë–ü",
        "bank_card": "üí≥ –ë–∞–Ω–∫–æ–≤—Å–∫–∞—è –∫–∞—Ä—Ç–∞",
        "crypto": "‚Çø –ö—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–∞",
        "manual": "üë®‚Äçüíº –†—É—á–Ω–æ–µ –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ"
    }
    return method_map.get(method, method)


# –¢–µ–∫—Å—Ç—ã –¥–ª—è –ø–ª–∞—Ç–µ–∂–µ–π
SUBSCRIPTION_PLANS_TEXT = """
üíé **–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∞—Ä–∏—Ñ–Ω—ã–π –ø–ª–∞–Ω:**

üîπ **–ë–∞–∑–æ–≤—ã–π** - 199‚ÇΩ/–º–µ—Å—è—Ü
‚Ä¢ –î–æ—Å—Ç—É–ø –∫ –æ—Å–Ω–æ–≤–Ω–æ–º—É –∫–æ–Ω—Ç–µ–Ω—Ç—É
‚Ä¢ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤ —á–∞—Ç–µ

üíé **–ü—Ä–µ–º–∏—É–º** - 499‚ÇΩ/–º–µ—Å—è—Ü  
‚Ä¢ –í—Å–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ë–∞–∑–æ–≤–æ–≥–æ
‚Ä¢ –≠–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã
‚Ä¢ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞

üëë **VIP** - 999‚ÇΩ/–º–µ—Å—è—Ü
‚Ä¢ –í—Å–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ü—Ä–µ–º–∏—É–º
‚Ä¢ –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏
‚Ä¢ –†–∞–Ω–Ω–∏–π –¥–æ—Å—Ç—É–ø –∫ –Ω–æ–≤–∏–Ω–∫–∞–º
"""

PAYMENT_METHODS_TEXT = """
üí≥ **–í—ã–±–µ—Ä–∏—Ç–µ —Å–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã**

–¢–∞—Ä–∏—Ñ: **{plan}**
–°—É–º–º–∞: **{price}‚ÇΩ**

–î–æ—Å—Ç—É–ø–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã –æ–ø–ª–∞—Ç—ã:
"""

PAYMENT_CREATED_TEXT = """
‚úÖ **–ü–ª–∞—Ç–µ–∂ —Å–æ–∑–¥–∞–Ω!**

–°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã: {method}
–°—É–º–º–∞: {amount}‚ÇΩ
ID –ø–ª–∞—Ç–µ–∂–∞: {payment_id}

–°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –æ–ø–ª–∞—Ç—ã.
"""

PAYMENT_ERROR_TEXT = """
‚ùå **–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –ø–ª–∞—Ç–µ–∂–∞**

{error}

–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤—ã–±—Ä–∞—Ç—å –¥—Ä—É–≥–æ–π —Å–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã –∏–ª–∏ –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É.
"""

PAYMENT_SUCCESS_TEXT = """
üéâ **–ü–ª–∞—Ç–µ–∂ —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω!**

–°—É–º–º–∞: {amount} {currency}

–í–∞—à–∞ –ø–æ–¥–ø–∏—Å–∫–∞ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–∞! –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –∑–∞–∫—Ä—ã—Ç—ã–π –∫–∞–Ω–∞–ª.
"""

# –ì–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç —Å —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏
MESSAGES = {
    # –û—Å–Ω–æ–≤–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
    "start": Messages.START_MESSAGE,
    "help": Messages.HELP_MESSAGE,
    "support": Messages.SUPPORT_MESSAGE,
    
    # –ü–æ–¥–ø–∏—Å–∫–∏
    "no_subscription": """
üìã <b>–£ –≤–∞—Å –Ω–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ–π –ø–æ–¥–ø–∏—Å–∫–∏</b>

–û—Ñ–æ—Ä–º–∏—Ç–µ –ø–æ–¥–ø–∏—Å–∫—É –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–∞ –∫ —ç–∫—Å–∫–ª—é–∑–∏–≤–Ω–æ–º—É –∫–æ–Ω—Ç–µ–Ω—Ç—É –∫–∞–Ω–∞–ª–∞!
    """,
    
    "subscription_expiring": """
‚ö†Ô∏è <b>–ü–æ–¥–ø–∏—Å–∫–∞ —Å–∫–æ—Ä–æ –∏—Å—Ç–µ—á–µ—Ç</b>

–í–∞—à–∞ –ø–æ–¥–ø–∏—Å–∫–∞ –∏—Å—Ç–µ–∫–∞–µ—Ç —á–µ—Ä–µ–∑ {days} –¥–Ω–µ–π.
–ü—Ä–æ–¥–ª–∏—Ç–µ –ø–æ–¥–ø–∏—Å–∫—É, —á—Ç–æ–±—ã –Ω–µ –ø–æ—Ç–µ—Ä—è—Ç—å –¥–æ—Å—Ç—É–ø –∫ –∫–∞–Ω–∞–ª—É.
    """,
    
    "subscription_expired": """
‚ùå <b>–ü–æ–¥–ø–∏—Å–∫–∞ –∏—Å—Ç–µ–∫–ª–∞</b>

–í–∞—à–∞ –ø–æ–¥–ø–∏—Å–∫–∞ –∏—Å—Ç–µ–∫–ª–∞ {date}.
–û—Ñ–æ—Ä–º–∏—Ç–µ –Ω–æ–≤—É—é –ø–æ–¥–ø–∏—Å–∫—É –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–∞–Ω–∞–ª–æ–º.
    """,
    
    "welcome_to_channel": """
üéâ <b>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –∫–∞–Ω–∞–ª!</b>

–í–∞—à–∞ –ø–æ–¥–ø–∏—Å–∫–∞ —É—Å–ø–µ—à–Ω–æ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–∞.
–¢–µ–ø–µ—Ä—å —É –≤–∞—Å –µ—Å—Ç—å –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –∫–æ–Ω—Ç–µ–Ω—Ç—É.

üìÖ –ü–æ–¥–ø–∏—Å–∫–∞ –¥–µ–π—Å—Ç–≤—É–µ—Ç –¥–æ: {expires_at}
    """,
    
    # –ü–ª–∞—Ç–µ–∂–∏
    "payment_instructions": {
        "yoomoney": "–î–ª—è –æ–ø–ª–∞—Ç—ã —á–µ—Ä–µ–∑ YooMoney –ø–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ —Å—Å—ã–ª–∫–µ –Ω–∏–∂–µ:",
        "telegram_stars": "–î–ª—è –æ–ø–ª–∞—Ç—ã –∑–≤–µ–∑–¥–∞–º–∏ Telegram –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ:",
        "sbp": "–û—Ç—Å–∫–∞–Ω–∏—Ä—É–π—Ç–µ QR-–∫–æ–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º –±–∞–Ω–∫–∞ –∏–ª–∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ —Å—Å—ã–ª–∫–µ:",
        "bank_card": "–í–≤–µ–¥–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –∫–∞—Ä—Ç—ã –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –æ–ø–ª–∞—Ç—ã:"
    },
    
    # –û—à–∏–±–∫–∏
    "error_channel_not_found": "‚ùå –ö–∞–Ω–∞–ª –Ω–µ –Ω–∞–π–¥–µ–Ω",
    "error_user_not_found": "‚ùå –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω",
    "error_subscription_not_found": "‚ùå –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞",
    "error_payment_failed": "‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø–ª–∞—Ç–µ–∂–∞",
    "error_invalid_plan": "‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π –ø–ª–∞–Ω –ø–æ–¥–ø–∏—Å–∫–∏",
    "error_access_denied": "üö´ –î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω",
    
    # –ê–¥–º–∏–Ω —Å–æ–æ–±—â–µ–Ω–∏—è
    "admin_only": "üëë –≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ —Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º",
    "admin_stats_header": "üìä <b>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã</b>",
    "admin_users_header": "üë• <b>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏</b>",
    "admin_channels_header": "üì∫ <b>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞–Ω–∞–ª–∞–º–∏</b>",
}

# –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
def format_subscription_info(subscription) -> str:
    """–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–¥–ø–∏—Å–∫–µ"""
    if not subscription:
        return MESSAGES["no_subscription"]
    
    days_left = (subscription.expires_at - datetime.utcnow()).days
    status = "üü¢ –ê–∫—Ç–∏–≤–Ω–∞" if subscription.is_active and days_left > 0 else "üî¥ –ù–µ–∞–∫—Ç–∏–≤–Ω–∞"
    
    return f"""
üìã <b>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–¥–ø–∏—Å–∫–µ</b>

<b>–°—Ç–∞—Ç—É—Å:</b> {status}
<b>–î–µ–π—Å—Ç–≤—É–µ—Ç –¥–æ:</b> {subscription.expires_at.strftime('%d.%m.%Y')}
<b>–î–Ω–µ–π –æ—Å—Ç–∞–ª–æ—Å—å:</b> {max(0, days_left)}
<b>–°—Ç–æ–∏–º–æ—Å—Ç—å:</b> {subscription.price} ‚ÇΩ
    """

def format_channel_info(channel) -> str:
    """–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–∞–Ω–∞–ª–µ"""
    text = f"üì∫ <b>{channel.title}</b>\n\n"
    
    if channel.description:
        text += f"üìù {channel.description}\n\n"
    
    if channel.monthly_price:
        text += f"üí∞ –ú–µ—Å—è—á–Ω–∞—è –ø–æ–¥–ø–∏—Å–∫–∞: {channel.monthly_price} ‚ÇΩ\n"
    
    if channel.yearly_price:
        text += f"üí∞ –ì–æ–¥–æ–≤–∞—è –ø–æ–¥–ø–∏—Å–∫–∞: {channel.yearly_price} ‚ÇΩ\n"
    
    return text

def format_payment_info(payment) -> str:
    """–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–ª–∞—Ç–µ–∂–µ"""
    status_icons = {
        "pending": "‚è≥",
        "completed": "‚úÖ", 
        "failed": "‚ùå",
        "cancelled": "üö´"
    }
    
    icon = status_icons.get(payment.status, "‚ùì")
    
    return f"""
üí≥ <b>–ü–ª–∞—Ç–µ–∂ #{payment.external_id}</b>

<b>–°—Ç–∞—Ç—É—Å:</b> {icon} {payment.status}
<b>–°—É–º–º–∞:</b> {payment.amount} {payment.currency}
<b>–î–∞—Ç–∞:</b> {payment.created_at.strftime('%d.%m.%Y %H:%M')}
    """

def format_user_stats(stats: dict) -> str:
    """–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π"""
    return f"""
üë• <b>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</b>

<b>–í—Å–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:</b> {stats.get('total', 0)}
<b>–ê–∫—Ç–∏–≤–Ω—ã—Ö:</b> {stats.get('active', 0)}
<b>–° –ø–æ–¥–ø–∏—Å–∫–æ–π:</b> {stats.get('with_subscription', 0)}
<b>–ù–æ–≤—ã—Ö –∑–∞ —Å–µ–≥–æ–¥–Ω—è:</b> {stats.get('new_today', 0)}
    """

def format_subscription_stats(stats: dict) -> str:
    """–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ–¥–ø–∏—Å–æ–∫"""
    return f"""
üìä <b>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–¥–ø–∏—Å–æ–∫</b>

<b>–í—Å–µ–≥–æ –ø–æ–¥–ø–∏—Å–æ–∫:</b> {stats.get('total', 0)}
<b>–ê–∫—Ç–∏–≤–Ω—ã—Ö:</b> {stats.get('active', 0)}
<b>–ò—Å—Ç–µ–∫—à–∏—Ö:</b> {stats.get('expired', 0)}
<b>–û—Ç–º–µ–Ω–µ–Ω–Ω—ã—Ö:</b> {stats.get('cancelled', 0)}
    """ 